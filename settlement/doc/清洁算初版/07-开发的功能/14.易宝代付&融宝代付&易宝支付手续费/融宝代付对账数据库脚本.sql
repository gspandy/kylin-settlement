
-- 融宝代付
INSERT INTO `settle`.`SETTLE_FILE` (`FILE_NAME`, `ROOT_INST_CD`, `FUNC_CODES`, `FUNC_RELATION`, `PAY_CHANNEL_ID`, `READ_TYPE`, `TRANS_STATUS_IDS`, `FILE_PREFIX`, `FILE_POSTFIX`, `FILE_TYPE`, `FILE_ACTIVE`, `FILE_SUB_ID`, `FILE_ENCODE`, `SPLIT_STR`, `UPLOAD_KEY_NAME`, `UPLOAD_KEY_FLG`, `ROP_BATCH_NO`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`, `ROP_FILE_TYPE`, `DATE_STEP`) VALUES ( '融数融宝代付', 'M00000X', '', '0', 'S02', 'RB_DF', '0', '{YMD}_Reapal_AgentPay_100000001300720', 'txt', 'body', '2', '125', 'UTF-8', '|', '', '1', '', NULL, NULL, NULL, NULL, '1', NULL,NULL, '-1');

INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '0', 'L_2', 'ORDER_NO', '商户订单号', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '1', 'L_1', 'TRANS_FLOW_NO', '商户批次号', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '2', 'L_4', 'USER_ID', '户名', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '3', 'L_3', 'REMARK', '收款人账户号', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '4', 'L_7', 'TRANS_AMOUNT', '交易金额', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '4', 'L_9', 'FEE_AMOUNT', '手续费', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '6', 'L_0', 'INTER_MERCHANT_CODE', '商户编号', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '7', 'L_7', 'MERCHANT_CODE', '机构号', '1', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '8','L_7', 'PAY_CHANNEL_ID', '渠道', '1', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '9','L_7', 'READ_TYPE', '类型', '1', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '10','L_15', 'TRANS_TYPE', '交易类型', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '11','L_7', 'SETTLE_TIME', '清算时间', '1', '3', 'yyyy-MM-dd', Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '11','L_7', 'OBLIGATE1', '备用1', '1', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '12','L_16', 'FILE_TYPE', '文件类型', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '13','L_7', 'IS_INVOICE', '是否结算单', '1', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '14', 'L_14', 'READ_STATUS_ID', '交易状态', '0', '1', Null, Null, Null, Null, Null, '1', Null);
INSERT INTO `settle`.`SETTLE_FILE_COLUMN` (`FILE_SUB_ID`, `FILE_COLUMN_NO`, `FILE_COLUMN_TITLE`, `FILE_COLUMN_KEY_CODE`, `FILE_COLUMN_KEY_NAME`, `IS_SPECIAL_COLUMN`, `DATA_TYPE`, `DATA_FORMAT`, `START_TIME`, `END_TIME`, `OBLIGATE1`, `OBLIGATE2`, `STATUS_ID`, `REMARK`) VALUES ('125', '15', 'L_8', 'SETTLE_AMOUNT', '结算金额', '0', '1', Null, Null, Null, Null, Null, '1', Null);

INSERT INTO `settle`.`SETTLE_RULE` (`RULE_NAME`, `RULE_TYPE`, `READ_TYPE`, `DET_KEY_CODE`, `ACC_KEY_CODE`, `SETTLE_KEY_NAME`, `ROP_BATCH_NO`, `KEY_TYPE`, `START_TIME`, `END_TIME`, `STATUS_ID`, `REMARK`) VALUES ('融宝代付', 'S02', 'RB_DF', 'ORDER_NO', 'ORDER_NO', '订单号', NULL, '0', '2015-07-01 15:42:52', '2030-10-23 15:34:55', '1', NULL);
INSERT INTO `settle`.`SETTLE_RULE` (`RULE_NAME`, `RULE_TYPE`, `READ_TYPE`, `DET_KEY_CODE`, `ACC_KEY_CODE`, `SETTLE_KEY_NAME`, `ROP_BATCH_NO`, `KEY_TYPE`, `START_TIME`, `END_TIME`, `STATUS_ID`, `REMARK`) VALUES ('融宝代付', 'S02', 'RB_DF', 'AMOUNT', 'TRANS_AMOUNT', '对账金额', NULL, '1', '2015-07-01 15:42:52', '2030-10-23 15:34:55', '1', NULL);


UPDATE SETTLE_PARAMETER_INFO
SET PARAMETER_VALUE = CONCAT (PARAMETER_VALUE,',\'110803\'')
WHERE
	PARAMETER_TYPE = '1000000004'
AND PARAMETER_CODE = '4014';

-- 读取多渠道数据对func_code 进行转化

INSERT INTO `settle`.`SETTLE_PARAMETER_INFO` (`PARAMETER_TYPE`, `PRODUCT_ID`, `PARAMETER_CODE`, `PARAMETER_VALUE`, `OBLIGATE1`, `OBLIGATE2`, `OBLIGATE3`, `STATUS_ID`, `REMARK`) VALUES ('1000000008', '', 'S02', 'Reapal_AgentPay', '', '', '', '1', '融宝代付渠道编码对应关系');


